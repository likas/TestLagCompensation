# LagCompensation

Developed with Unreal Engine 4.27.2

Тестирование!

В эдиторе:

Запустить Listen Server + 2 клиентов

![изображение](https://user-images.githubusercontent.com/13076304/163047019-e0e9f390-2df7-4648-8a38-a31ac675fbdc.png)

Вне эдитора:

Запустить 3 копии приложения, вызвать консоль тильдой (~), в одном из окон ввести open FirstPersonExampleMap?listen
В оставшихся двух - open 127.0.0.1

![изображение](https://user-images.githubusercontent.com/13076304/163048445-7ab86718-0872-4e0b-928b-c7bd4a92d7b3.png)

Запустить Clumsy и выставить задержку (:

Клиентам (игрокам) можно включить постоянную стрельбу и/или постоянный бег

Стрельба включается клавишей E (2 выстрела в секунду по умолчанию)

Бег включается клавишей Q

Стандартный сценарий тестирования - это включить одному игроку автобег, вторым игроком вручную стрелять в первого

Также можно включить одному из игроков стрельбу, а вторым вручную пробегать по линии стрельбы

При каждом выстреле изображается траектория (line trace).

При _попадании_ мы имеем:

Клиент стрелка

Клиент игрока, в которого попали (ИВКП)

Отрисовывается 3 капсулы, отражающие три разных местоположения ИВКП:

_Жёлтая_ капсула отображает местоположение, в котором ИВКП был на клиенте стрелка в момент выстрела

_Белая_ капсула отображает восстановленное по истории местоположений место, в котором сервер "видел" ИВКП в момент выстрела

_Чёрная_ капсула отображает положение ИВКП в момент прихода сигнала о выстреле на сервер

![изображение](https://user-images.githubusercontent.com/13076304/163052646-95a0d901-c549-4840-a0a9-fdf6c880fbdb.png)
![изображение](https://user-images.githubusercontent.com/13076304/163052670-bac6b2e6-11c9-48d6-8864-82955389a2ba.png)
![изображение](https://user-images.githubusercontent.com/13076304/163053055-39bb1f0c-1ba8-45f4-b30f-8397c7bb331f.png)

(если смотреть в окно сервера, там желтая капсула не жёлтая, а синяя)

Также отрисовывается линия выстрела и точка попадания (оранжевая сфера)

В окне сервера спектатор - можно "летать" и рассматривать местоположение капсул подробнее
